// เรียกใช้งานไลบรารี bcrypt สำหรับการเข้ารหัส (Hash) ข้อมูล เช่น รหัสผ่าน
const bcrypt = require('bcrypt')

// ข้อความธรรมดาที่เราต้องการเข้ารหัส
const myText = 'hello'

// ใช้ฟังก์ชัน bcrypt.hash() เพื่อเข้ารหัสข้อความ
// พารามิเตอร์ตัวที่ 1: ข้อความที่จะเข้ารหัส (myText)
// พารามิเตอร์ตัวที่ 2: จำนวนรอบของการ "salt" (ในที่นี้คือ 10 รอบ)
// ฟังก์ชันนี้จะคืนค่าเป็น Promise
const resultPromise = bcrypt.hash(myText, 10)

// ใช้ .then() เพื่อจัดการผลลัพธ์เมื่อการเข้ารหัสเสร็จสมบูรณ์
resultPromise.then(hash => {
  // แสดงผลลัพธ์ของการ hash บนหน้าจอ
  // ผลลัพธ์จะเป็นข้อความยาว ๆ ที่ไม่สามารถถอดกลับมาเป็น 'hello' ได้
  console.log(hash)
})

// ใช้ .catch() เพื่อจัดการกรณีที่เกิดข้อผิดพลาดระหว่างการ hash
.catch(err => {
  console.log(err)
})
